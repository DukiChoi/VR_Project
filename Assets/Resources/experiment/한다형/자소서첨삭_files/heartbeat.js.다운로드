(function(g){var window=this;'use strict';var of4=function(m,c){if(!Number.isFinite(m))return String(m);m=String(m);var W=m.indexOf(".");W===-1&&(W=m.length);var A=m[0]==="-"?"-":"";A&&(m=m.substring(1));return A+(0,g.QUr)("0",Math.max(0,c-W))+m},Fk4=function(){return{D:"svg",
Y:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},Z:[{D:"path",Y:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},QX4=function(){return{D:"svg",
Y:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},Z:[{D:"path",Y:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},wXa=function(m){typeof m==="number"?(this.date=gfr(m,0,1),VD(this,1)):g.E5(m)?(this.date=gfr(m.getFullYear(),m.getMonth(),m.getDate()),VD(this,m.getDate())):(this.date=new Date(g.ky()),m=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),VD(this,m))},gfr=function(m,c,W){c=new Date(m,c,W);
m>=0&&m<100&&c.setFullYear(c.getFullYear()-1900);return c},VD=function(m,c){m.getDate()!=c&&m.date.setUTCHours(m.date.getUTCHours()+(m.getDate()<c?1:-1))},Hu=function(m,c){g.BW.call(this,m,{D:"div",
T:"ytp-reminder-menu",Y:{role:"menu",tabindex:"-1"},Z:[{D:"div",T:"ytp-reminder-menu-contents",Z:[{D:"div",T:"ytp-reminder-menu-items"}]}]},100,!0);this.j=c;this.K=[];this.menuPopupRenderer=void 0;this.items=this.Lf("ytp-reminder-menu-items");this.hide()},C3i=function(m){return(m.menuPopupRenderer&&m.menuPopupRenderer.items||[]).reduce(function(c,W){W&&W.menuServiceItemRenderer&&c.push(W.menuServiceItemRenderer);
return c},[])},xu=function(m){g.f.call(this,{D:"div",
Z:[{D:"button",U8:["ytp-offline-slate-button","ytp-button"],Z:[{D:"div",T:"ytp-offline-slate-button-icon",E8:"{{icon}}"},{D:"div",T:"ytp-offline-slate-button-text",E8:"{{text}}"}]}]});this.C=m;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.V=void 0;this.L=this.j=null;(this.B=this.Lf("ytp-offline-slate-button"))&&this.S(this.B,"click",this.X);this.hide()},VtQ=function(m,c,W){!m.toggleButtonRenderer&&c&&c.toggleButtonRenderer?m.toggleButtonRenderer=c.toggleButtonRenderer:
c&&c.toggleButtonRenderer||(m.toggleButtonRenderer=null);
!m.upcomingEventReminderButtonRenderer&&W&&g.h(W,J84)?m.upcomingEventReminderButtonRenderer=g.h(W,J84):W&&g.h(W,J84)||(m.upcomingEventReminderButtonRenderer=null);lB(m)},lB=function(m){if(m.toggleButtonRenderer){var c=m.toggleButtonRenderer;
if(c.isToggled){var W=c.toggledText?g.V9(c.toggledText):"";m.update({text:W,icon:H1H(c.toggledIcon)})}else W=c.defaultText?g.V9(c.defaultText):"",m.update({text:W,icon:H1H(c.defaultIcon)});m.show()}else m.upcomingEventReminderButtonRenderer?(c=xf4(m))?(W=c.text?g.V9(c.text):"",m.update({text:W,icon:H1H(c.icon)}),m.show()):m.hide():m.hide()},qdH=function(m,c,W){m.L||(m.L=new g.pU(m.C.J().qq));
var A={context:g.HH(m.L.config_||g.VW())};g.dI()&&(A.context.clientScreenNonce=g.dI());A.params=W;g.RA(m.L,c,A,{timeout:5E3,onSuccess:function(){m.upcomingEventReminderButtonRenderer&&m.V&&(m.upcomingEventReminderButtonRenderer.currentState=m.V,m.V=void 0)},
onError:function(){lmS(m)},
onTimeout:function(){lmS(m)}})},lmS=function(m){m.toggleButtonRenderer?(m.toggleButtonRenderer.isToggled=!m.toggleButtonRenderer.isToggled,lB(m)):m.upcomingEventReminderButtonRenderer&&(m.V=void 0,lB(m))},H1H=function(m){if(!m)return null;
switch(m.iconType){case "NOTIFICATIONS":return Fk4();case "NOTIFICATIONS_NONE":return QX4();case "NOTIFICATIONS_ACTIVE":return g.ex();default:return null}},xf4=function(m){if(!m.upcomingEventReminderButtonRenderer)return null;
var c=m.V||m.upcomingEventReminderButtonRenderer.currentState;m=g.H(m.upcomingEventReminderButtonRenderer.states||[]);for(var W=m.next();!W.done;W=m.next())if((W=g.h(W.value,TCi))&&W.state===c&&W.button&&g.h(W.button,g.vA))return g.h(W.button,g.vA);return null},y8h=function(m){g.f.call(this,{D:"div",
T:"ytp-offline-slate",Z:[{D:"div",T:"ytp-offline-slate-background"},{D:"div",T:"ytp-offline-slate-bar",Z:[{D:"span",T:"ytp-offline-slate-icon",Z:[{D:"svg",Y:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},Z:[{D:"path",Y:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{D:"circle",Y:{cx:"12",cy:"12",r:"3"}}]}]},{D:"span",T:"ytp-offline-slate-messages",Z:[{D:"div",T:"ytp-offline-slate-main-text",Y:{"aria-label":"{{label}}"},E8:"{{mainText}}"},{D:"div",T:"ytp-offline-slate-subtitle-text",E8:"{{subtitleText}}"}]},{D:"span",T:"ytp-offline-slate-buttons"}]},{D:"button",U8:["ytp-offline-slate-close-button","ytp-button"],Z:[g.qS()]},{D:"button",U8:["ytp-offline-slate-open-button","ytp-button"],Z:[g.lV()]}]});var c=this;this.api=m;this.j=this.V=null;this.background=this.Lf("ytp-offline-slate-background");
this.K=this.Lf("ytp-offline-slate-bar");this.B=new g.Rv(function(){g.ov(c.K,"ytp-offline-slate-bar-fade")},15E3);
this.X=!1;this.L=new g.Rv(function(){g.ov(c.element,"ytp-offline-slate-collapsed")},15E3);
g.r(this,this.L);g.r(this,this.B);this.countdownTimer=new g.Rv(this.dB,1E3,this);this.S(m,"presentingplayerstatechange",this.tB);this.S(m,"livestatedata",this.Ps);this.S(this.Lf("ytp-offline-slate-close-button"),"click",function(){g.ov(c.element,"ytp-offline-slate-collapsed")});
this.S(this.Lf("ytp-offline-slate-open-button"),"click",function(){g.QM(c.element,"ytp-offline-slate-collapsed")});
this.hide();m=this.getVideoData();m.getPlayerResponse()&&(m=m.getPlayerResponse().playabilityStatus)&&this.Ps(m);m=this.api.getPresentingPlayerType()===8&&!this.getVideoData().bd;var W=this.api.getPresentingPlayerType()===8;g.wY(this.element,"ytp-offline-slate-premiere-trailer",m);g.wY(this.element,"ytp-offline-slate-hide-background",W)},zHc=function(m,c,W){if(c){var A=c.subtitleText!=null?g.V9(c.subtitleText):"";
W=W?W:c.mainText!=null?g.V9(c.mainText):"";var p,R,L,M;c=(M=(p=c.mainText)==null?void 0:(R=p.accessibility)==null?void 0:(L=R.accessibilityData)==null?void 0:L.label)!=null?M:W;m.update({mainText:W,subtitleText:A,label:c});g.wY(m.element,"ytp-offline-slate-single-text-line",!A);g.wY(m.K,"ytp-offline-slate-bar-hidden",!W&&!A)}},qt=function(m,c){var W=(0,g.Kq)();
this.module="heartbeat";this.trigger=m;this.j=c;this.K=W},Kkc=function(m){g.dg.call(this,m);
var c=this;this.X=!1;this.N=0;this.U=!1;this.V=new g.Rv(function(){eHG(c)},0);
this.j=this.heartbeatParams=null;this.L=!1;this.B=new g.dG(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.Vb=new g.pU(void 0);this.attestationResponse=Promise.resolve(void 0);this.W=Promise.resolve(void 0);this.utcOffsetMinutes=-(new wXa).getTimezoneOffset();this.K=new g.nm(this);g.r(this,this.V);g.r(this,this.K);dfh(this);tth(this);this.K.S(m,"heartbeatparams",this.HM);this.K.S(m,"presentingplayerstatechange",this.Ns);this.K.S(m,"videoplayerreset",this.lR);this.K.S(m,g.$g("heartbeat"),
this.onCueRangeEnter);this.L&&this.j&&G6h(this,void 0,this.j);var W=new g.M9(1E3,0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),A=new g.M9(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});m.jS([W,A]);Df4(this)},Df4=function(m){var c=m.getVideoData();
!c.G("use_rta_for_player")&&c.q_&&(c=c.botguardData)&&g.K4(c,m.player.J())},BCX=function(m){var c,W;
return g.D(function(A){if(A.j==1)return g.t(A,g.xD$(),2);if(!A.V)return m.sequenceNumber>=3?A.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):A.return(void 0);c=m.getVideoData();W={};return A.return(g.HUY((W.cpn=c.clientPlaybackNonce,W.encryptedVideoId=c.videoId||"",W),1500))})},dfh=function(m){var c=m.getVideoData();
if(c.q_)if(c.G("use_rta_for_player"))m.attestationResponse=BCX(m);else if(c=new g.gmy(c),g.dq.isInitialized()||m.sequenceNumber>=3){var W=Promise,A=W.resolve,p=null;if(c.videoData.n5){var R=g.w51(c);if(R){p={};var L={};R=R.split("&");R=g.H(R);for(var M=R.next();!M.done;M=R.next())M=M.value.split("="),M.length===2&&(L[M[0]]=M[1]);L.r1a&&(p.webResponse=L.r1a);L.r1c&&(p.error=vfd[Number(L.r1c)]);p.challenge=c.videoData.n5}}m.attestationResponse=A.call(W,p||void 0)}},jXH=function(m){var c=m.getVideoData();
if(!g.Fy(m.getVideoData())||c.sD)return!1;if(c.U){m=c.U.flavor==="playready"&&c.G("html5_innertube_heartbeats_for_playready");var W=c.U.flavor==="widevine"&&c.G("html5_innertube_heartbeats_for_widevine");c=g.vd(c.U)&&c.G("html5_innertube_heartbeats_for_fairplay");return!(m||W||c)}return!0},ami=function(m){if(jXH(m))return!!m.heartbeatParams;
var c=m.getVideoData();return!g.Fy(m.getVideoData())||c.u3||c.zT?!!c.heartbeatToken:!1},TU=function(m,c){if(!m.V.isActive()&&m.X){var W=m.getVideoData();
if(ami(m)||W.isLivePlayback){if(c===void 0)if(m.U)if(m.L)c=7500;else{var A;c=((A=m.heartbeatParams)==null?0:A.interval)?m.heartbeatParams.interval*1E3:m.getVideoData().LH||6E4}else c=1E3;m.V.start(c)}}},hH4=function(m,c,W){c.le&&(W=g.PX(W,{internalipoverride:c.le}));
var A={cpn:c.clientPlaybackNonce};c.contextParams&&(A.context_params=c.contextParams);c.Ab&&(A.kpt=c.Ab);W=g.PX(W,A);g.Du(W,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(p){if(!m.V.isActive()&&yD(m)){m.B.reset();m.sequenceNumber++;p=p.responseText;var R=uTc(p);if(R){m.player.r_("onHeartbeat",R);var L=R.status==="ok"?R.stop_heartbeat?2:0:R.status==="stop"?1:R.status==="live_stream_offline"?0:-1}else L=(L=p.match(nfv))?L[1]==="0"?0:1:-1;r8d(m,void 0,R,p,L)}},
onError:function(p){yD(m)&&zU(m,!0,"net-"+p.status)},
onTimeout:function(){yD(m)&&zU(m,!0,"timeout")},
withCredentials:!0})},eHG=function(m){var c,W;
g.D(function(A){c=m.player.J();W=m.getVideoData();if(!yD(m))return A.return();if(jXH(m))return sXh(m,c,W),A.qh(0);dfh(m);return g.t(A,Sdi(m,c,W),0)})},sXh=function(m,c,W){var A;
if((A=m.heartbeatParams)!=null&&A.url){var p=g.PX(m.heartbeatParams.url,{request_id:g.znN()});W.Mh&&(p=g.PX(p,{vvt:W.Mh}),W.mdxEnvironment&&(p=g.PX(p,{mdx_environment:W.mdxEnvironment})));g.XM(c,W.oauthToken).then(function(R){R&&(p=g.PX(p,{access_token:R}));hH4(m,W,p)})}},yD=function(m){var c=m.getVideoData();
return m.player.getPresentingPlayerType()===3||g.U(m.player.getPlayerStateObject(m.getPlayerType()),4)?!1:ami(m)||c.isLivePlayback?!0:(e3(m),!1)},Sdi=function(m,c,W){var A,p,R,L,M,b,N,Z,F,Q,w,C,x,q,y,e,G,B,u,E;
return g.D(function(I){if(I.j==1)return A="player/heartbeat",R={videoId:W.videoId,sequenceNumber:m.sequenceNumber,heartbeatServerData:(p=m.Mh)!=null?p:W.heartbeatServerData},m.W=m.attestationResponse,W.q_?g.t(I,m.W,3):I.qh(2);I.j!=2&&(R.attestationResponse=I.V);L=g.kC(W);b=(M=L.client)!=null?M:{};b.utcOffsetMinutes=m.utcOffsetMinutes;R.context=L;R.cpn=W.clientPlaybackNonce;if(N=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)b.timeZone=N;Z={heartbeatChecks:[]};
if(F=W.getPlayerResponse())W.heartbeatToken&&(R.heartbeatToken=W.heartbeatToken),(Q=F.playabilityStatus)&&(w=Q.liveStreamability)&&w.liveStreamabilityRenderer&&Z.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");W.heartbeatToken&&Z.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.e5(c)&&(Z.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),C=Efh(m),x={},C!==null&&(x.clientPlayerPositionUtcMillis=C),y=(q=m.player.oz())==null?void 0:g.hm(q),G=((e=y)==null?void 0:e.freePreviewWatchedDuration)||
0,G>0&&(x.freePreviewWatchedDuration={seconds:""+G}),Z.unpluggedParams=x);R.heartbeatRequestParams=Z;W.isLivePlayback?(B=Efh(m),B!==null&&(R.playbackState||(R.playbackState={}),R.playbackState.playbackPosition={utcTimeMillis:B})):c.G("enable_heartbeat_vod_playback_position")&&(u=Ydh(m),u!==null&&(R.playbackState||(R.playbackState={}),R.playbackState.playbackPosition={streamTimeMillis:u}));m.player.publish("heartbeatRequest",R);E={timeout:3E4,onSuccess:function(AY){if(!m.V.isActive()&&yD(m)){var O5=
m.getVideoData(),X=O5.q_&&m.W==null,S;O5.q_=!((S=AY.heartbeatAttestationConfig)==null||!S.requiresAttestation)||X;X=AY.playabilityStatus;S=JSON.stringify(X)||"{}";AY.authenticationMismatch&&m.player.nf("authshear",{});var P=-1;var V=AY.playabilityStatus;V&&(m.player.r_("onHeartbeat",V),V.status==="OK"?P=AY.stopHeartbeat?2:0:V.status==="UNPLAYABLE"?P=1:V.status==="LIVE_STREAM_OFFLINE"&&(P=0));m.sequenceNumber&&P===-1||m.B.reset();m.sequenceNumber++;AY.heartbeatServerData&&(m.Mh=AY.heartbeatServerData);
O5.kR=AY;(V=AY.playerCueRangeSet)&&g.S1(O5,V);AY.playerCueRanges&&AY.playerCueRanges.length>0&&(O5.cueRanges=AY.playerCueRanges);var Y,m4;((Y=AY.progressBarConfig)==null?0:Y.progressBarStartPosition)&&((m4=AY.progressBarConfig)==null?0:m4.progressBarEndPosition)&&(O5.progressBarStartPosition=AY.progressBarConfig.progressBarStartPosition,O5.progressBarEndPosition=AY.progressBarConfig.progressBarEndPosition);O5.compositeLiveIngestionOffsetToken=AY.compositeLiveIngestionOffsetToken;AY.compositeLiveStatusToken!==
O5.compositeLiveStatusToken&&(O5.compositeLiveStatusToken=AY.compositeLiveStatusToken);O5.publish("dataupdated");r8d(m,AY,X,S,P)}},
onError:function(AY){yD(m)&&zU(m,!0,"net-"+AY.status)},
onTimeout:function(){yD(m)&&zU(m,!0,"timeout")}};
g.XM(c,g.nB(W)).then(function(AY){AY&&(E.xb="Bearer "+AY);g.RA(m.Vb,A,R,E)});
g.CN(I)})},r8d=function(m,c,W,A,p){p===-1?(W="decode "+g.Ja(A,3),zU(m,!1,W)):p===2?(e3(m),m.U=!0):(m.N=0,m.V.stop(),p===1?(m.U=!1,W&&W.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&m.player.KS(!0),p="pe."+(W==null?void 0:W.errorCode)+";ps."+(W==null?void 0:W.status),m.player.Is("heartbeat.stop",2,m.gs(A),p),g.Q8("heartbeatActionPlayerHalted",fmv(W)),(c==null?0:c.videoTransitionEndpoint)&&W&&(c=c.videoTransitionEndpoint,(A=g.h(c,g.YZ))&&i1c(m,A,W,{itct:c==null?void 0:c.clickTrackingParams}))):(m.U=
!0,A=0,m.L&&W&&(A=G6h(m,c,W),m.player.publish("livestatedata",W)),A?TU(m,A):TU(m)))},G6h=function(m,c,W){var A=W.liveStreamability&&W.liveStreamability.liveStreamabilityRenderer,p=!(!A||!(A.switchStreamsImmediately||A.transitionTiming&&A.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
c=ImQ(m,c,A);var R=m.getVideoData(),L=m.player.getPlayerStateObject(m.getPlayerType()),M=L.isPlaying()&&!g.H2(R)&&!m.player.isAtLiveHead(m.getPlayerType());if(R.J().Iz()){var b,N=((b=m.player.Gx())==null?void 0:b.Vg())||{};N.status=W.status||"";N.dvr=""+ +M;N["switch"]=""+ +p;N.ended=""+ +!(!A||!A.displayEndscreen);m.player.nf("heartbeat",N)}if(M&&!p)return c;p=A&&A.streamTransitionEndpoint&&g.h(A.streamTransitionEndpoint,g.YZ);if((A&&A.transitionTiming)==="STREAM_TRANSITION_TIMING_AT_STREAM_END")m.getVideoData().transitionEndpointAtEndOfStream=
p;else if(p&&i1c(m,p,W))return c;if(W.status.toUpperCase()==="OK"){p=A&&A.broadcastId;b=m.j&&m.j.liveStreamability&&m.j.liveStreamability.liveStreamabilityRenderer&&m.j.liveStreamability.liveStreamabilityRenderer.broadcastId;M=p!==b&&p!=null;if(!g.CB(R)||M){var Z={video_id:R.videoId};R.x8&&(Z.is_live_destination="1");m.player.G("web_player_heartbeat_request_watch_next")||(Z.disable_watch_next=!0,Z.raw_watch_next_response=R.getWatchNextResponse());Z.autonav_state=R.autonavState;Z.oauth_token=R.oauthToken;
Z.force_gvi=R.Nv;Z.xL=R.xL;R.B&&(Z.vss_credentials_token=R.B,Z.vss_credentials_token_type=R.zw);R.Mh&&(Z.vvt=R.Mh);A=void 0;g.CB(R)?M&&(A=new qt("broadcastIdChanged",b+","+p),m.Dn("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",W)):(p&&(A=new qt("formatsReceived",""+p)),m.Dn("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",W));m.player.loadVideoByPlayerVars(Z,void 0,void 0,void 0,A);return c}m.player.XN("heartbeat",
m.getPlayerType())}A&&A.displayEndscreen&&(m.offlineSlate?(m=m.offlineSlate,m.X=!0,m.d4&&m.api.Qn()):L.isBuffering()&&(R=((Z=m.player.Gx())==null?void 0:Z.Vg())||{},m.player.nf("hbse",R,!0),m.player.Qn(),m.player.r_("onLiveMediaEnded",W)));return c},ImQ=function(m,c,W){return m.player.G("web_player_use_heartbeat_poll_delay_ms")&&(m=Number(c==null?void 0:c.pollDelayMs))?m:(W=Number(W==null?void 0:W.pollDelayMs))?W:0},zU=function(m,c,W){var A=m.player.J();
if(!m.V.isActive()){m.V.stop();m.N++;var p=c?"heartbeat.net":"heartbeat.servererror";var R=m.getVideoData();if(R.qk||c&&!g.Fy(m.getVideoData())&&!ami(m)&&R.isLivePlayback)R=!1;else{var L,M;((M=m.heartbeatParams)==null?0:M.retries)?L=m.heartbeatParams.retries:L=R.Dl||5;R=m.N>=L}R?(g.Q8("heartbeatActionPlayerHalted",c?{enforcedPolicyToHaltOnNetworkFailure:!0}:fmv()),(c=m.getVideoData())&&c.isLivePlayback?m.player.Is(p,1,"\ub3d9\uc601\uc0c1 \uc7ac\uc0dd\uc774 \uc911\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",
W):m.player.Is(p,1,"\ub3d9\uc601\uc0c1\uc5d0 \ub77c\uc774\uc120\uc2a4\ub97c \ubd80\uc5ec\ud558\ub294 \uc911\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",W)):(A.G("html5_report_non_fatal_heartbeat_error")&&m.player.tT(p,{msg:W}),TU(m,m.B.getValue()),g.tg(m.B))}},fmv=function(m){var c={enforcedPolicyToHaltOnNetworkFailure:!1};
m&&(c.serializedServerContext=m.additionalLoggingData);return c},e3=function(m){m.N=0;
m.V.stop();m.U=!1;m.sequenceNumber=0},tth=function(m){var c=m.getVideoData(),W=m.player.J();
if(c.isLivePlayback)if(g.Xi(W.U)){m.L=!0;m.X=!0;if(!g.tq(W)||g.e5(W))m.offlineSlate=new y8h(m.player),g.r(m,m.offlineSlate),g.zi(m.player,m.offlineSlate.element,4);(c=c.getPlayerResponse())&&c.playabilityStatus&&(m.j=c.playabilityStatus);var A;((A=m.j)==null?void 0:A.status)!=="UNPLAYABLE"&&(m.j?(A=ImQ(m,void 0,m.j.liveStreamability&&m.j.liveStreamability.liveStreamabilityRenderer))?TU(m,A):TU(m,7500):TU(m,1E3))}else m.player.Is("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.Pr(c.De,"heartbeat")&&m.player.XN("heartbeat",m.getPlayerType())},i1c=function(m,c,W,A){var p=c&&c.videoId;
return p?(m.player.A$(p,Object.assign({},{autonav:"1"},A||{}),void 0,!0,!0,c,g.nB(m.getVideoData())),m.Dn("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",W),!0):!1},Efh=function(m){return(m=m.player.getProgressState(m.getPlayerType()).ingestionTime)&&isFinite(m)?""+Math.floor(m*1E3):null},Ydh=function(m){return(m=m.player.getCurrentTime(m.getPlayerType()))&&isFinite(m)?""+Math.floor(m*1E3):null},uTc=function(m){try{var c=JSON.parse(m);
return c!=null?c:void 0}catch(W){}},P3X={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
P3X={ERAS:["BC","AD"],ERANAMES:["\uae30\uc6d0\uc804","\uc11c\uae30"],NARROWMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),STANDALONENARROWMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),MONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),STANDALONEMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),
SHORTMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),STANDALONESHORTMONTHS:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),WEEKDAYS:"\uc77c\uc694\uc77c \uc6d4\uc694\uc77c \ud654\uc694\uc77c \uc218\uc694\uc77c \ubaa9\uc694\uc77c \uae08\uc694\uc77c \ud1a0\uc694\uc77c".split(" "),STANDALONEWEEKDAYS:"\uc77c\uc694\uc77c \uc6d4\uc694\uc77c \ud654\uc694\uc77c \uc218\uc694\uc77c \ubaa9\uc694\uc77c \uae08\uc694\uc77c \ud1a0\uc694\uc77c".split(" "),
SHORTWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),STANDALONESHORTWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),NARROWWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),STANDALONENARROWWEEKDAYS:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),SHORTQUARTERS:["1\ubd84\uae30","2\ubd84\uae30","3\ubd84\uae30","4\ubd84\uae30"],QUARTERS:["\uc81c 1/4\ubd84\uae30","\uc81c 2/4\ubd84\uae30","\uc81c 3/4\ubd84\uae30","\uc81c 4/4\ubd84\uae30"],AMPMS:["\uc624\uc804",
"\uc624\ud6c4"],DATEFORMATS:["y\ub144 MMMM d\uc77c EEEE","y\ub144 MMMM d\uc77c","y. M. d.","yy. M. d."],TIMEFORMATS:["a h\uc2dc m\ubd84 s\ucd08 zzzz","a h\uc2dc m\ubd84 s\ucd08 z","a h:mm:ss","a h:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
var vfd=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],Ufr={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.O=wXa.prototype;g.O.DU=P3X.FIRSTDAYOFWEEK;g.O.qK=P3X.FIRSTWEEKCUTOFFDAY;
g.O.clone=function(){var m=new wXa(this.date);m.DU=this.DU;m.qK=this.qK;return m};
g.O.getFullYear=function(){return this.date.getFullYear()};
g.O.getYear=function(){return this.getFullYear()};
g.O.getMonth=function(){return this.date.getMonth()};
g.O.getDate=function(){return this.date.getDate()};
g.O.getTime=function(){return this.date.getTime()};
g.O.getDay=function(){return this.date.getDay()};
g.O.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.O.getUTCMonth=function(){return this.date.getUTCMonth()};
g.O.getUTCDate=function(){return this.date.getUTCDate()};
g.O.getUTCDay=function(){return this.date.getDay()};
g.O.getUTCHours=function(){return this.date.getUTCHours()};
g.O.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.O.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.O.set=function(m){this.date=new Date(m.getFullYear(),m.getMonth(),m.getDate())};
g.O.setFullYear=function(m){this.date.setFullYear(m)};
g.O.setYear=function(m){this.setFullYear(m)};
g.O.setMonth=function(m){this.date.setMonth(m)};
g.O.setDate=function(m){this.date.setDate(m)};
g.O.setTime=function(m){this.date.setTime(m)};
g.O.setUTCFullYear=function(m){this.date.setUTCFullYear(m)};
g.O.setUTCMonth=function(m){this.date.setUTCMonth(m)};
g.O.setUTCDate=function(m){this.date.setUTCDate(m)};
g.O.add=function(m){if(m.years||m.months){var c=this.getMonth()+m.months+m.years*12,W=this.getYear()+Math.floor(c/12);c%=12;c<0&&(c+=12);a:{switch(c){case 1:var A=W%4!=0||W%100==0&&W%400!=0?28:29;break a;case 5:case 8:case 10:case 3:A=30;break a}A=31}A=Math.min(A,this.getDate());this.setDate(1);this.setFullYear(W);this.setMonth(c);this.setDate(A)}m.days&&(W=this.getYear(),c=W>=0&&W<=99?-1900:0,m=new Date((new Date(W,this.getMonth(),this.getDate(),12)).getTime()+m.days*864E5),this.setDate(1),this.setFullYear(m.getFullYear()+
c),this.setMonth(m.getMonth()),this.setDate(m.getDate()),VD(this,m.getDate()))};
g.O.bk=function(m){return!(!m||this.getYear()!=m.getYear()||this.getMonth()!=m.getMonth()||this.getDate()!=m.getDate())};
g.O.toString=function(){var m=this.getFullYear(),c=m<0?"-":m>=1E4?"+":"";return[c+of4(Math.abs(m),c?6:4),of4(this.getMonth()+1,2),of4(this.getDate(),2)].join("")+""};
g.O.valueOf=function(){return this.date.valueOf()};var k6h=new g.Kv("addUpcomingEventReminderEndpoint");var XXG=new g.Kv("removeUpcomingEventReminderEndpoint");var mNi=new g.Kv("updateUpcomingEventReminderButtonStateCommand");var J84=new g.Kv("upcomingEventReminderButtonRenderer"),TCi=new g.Kv("upcomingEventReminderButtonStateRenderer");g.J(Hu,g.BW);
Hu.prototype.updateMenuItems=function(){var m=this,c=C3i(this),W=0;W=0;for(var A={};W<c.length;A={S4:void 0},W++){var p=this.K[W];p||(p=new g.f({D:"div",T:"ytp-reminder-menu-item",Y:{role:"menuitem",tabindex:"0"},Z:[{D:"div",T:"ytp-reminder-menu-item-icon",E8:"{{icon}}"},{D:"div",T:"ytp-reminder-menu-item-label",E8:"{{text}}"}]}),A.S4=W,p.listen("click",function(L){return function(){var M=L.S4;m.yE();M=C3i(m)[M];m.publish("reminderMenuItemClicked",M.serviceEndpoint||M.command)}}(A)),p.s8(this.items),
this.K[W]=p);
var R=c[W];A=null;switch(R.icon&&R.icon.iconType){case "NOTIFICATIONS":A=Fk4();break;case "NOTIFICATIONS_NONE":A=QX4();break;case "NOTIFICATIONS_ACTIVE":A=g.ex()}R=R.text?g.V9(R.text):"";p.update({icon:A,text:R})}for(;W<this.K.length;)this.K.pop().dispose();W===0?this.yE():this.Ny(this.j)};
Hu.prototype.hide=function(){this.j&&this.j.removeAttribute("aria-haspopup");g.BW.prototype.hide.call(this)};
Hu.prototype.show=function(){this.j&&this.j.setAttribute("aria-haspopup","true");g.BW.prototype.show.call(this)};
Hu.prototype.xo=function(){g.$h(this.K);g.BW.prototype.xo.call(this)};g.J(xu,g.f);
xu.prototype.X=function(){if(this.toggleButtonRenderer){var m=this.toggleButtonRenderer;m.isToggled?this.K(m.toggledServiceEndpoint):this.K(m.defaultServiceEndpoint);m.isToggled=!m.isToggled;lB(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.j&&this.j.d4)this.j.yE();else{var c=xf4(this);c&&this.K(c.serviceEndpoint||c.command);c=((m=g.h(c==null?void 0:c.command,g.HD))==null?void 0:m.commands)||[];a:{m=g.H(c);for(var W=m.next();!W.done;W=m.next()){var A=c=void 0;if(W=(c=g.h(W.value,g.zac))==
null?void 0:(A=c.popup)==null?void 0:A.menuPopupRenderer){m=W;break a}}m=void 0}this.j||(this.j=new Hu(this.C,this.B),this.j.s8(this.element),g.r(this,this.j),this.j.subscribe("reminderMenuItemClicked",this.K,this));c=this.j;c.menuPopupRenderer=m;c.updateMenuItems()}};
xu.prototype.K=function(m){var c=g.h(m,k6h),W=g.h(m,XXG);if(m&&(c||W)){if(c){var A=c;var p="notification/add_upcoming_event_reminder"}else W&&(A=W,p="notification/remove_upcoming_event_reminder");if(p&&A&&A.params)for(qdH(this,p,A.params),m=g.H(A.commands||[]),c=m.next();!c.done;c=m.next())if((c=c.value)&&g.h(c,mNi)){this.V=g.h(c,mNi).state;lB(this);break}}};g.J(y8h,g.f);g.O=y8h.prototype;g.O.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.O.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.O.Ps=function(m){var c,W,A=m==null?void 0:(c=m.liveStreamability)==null?void 0:(W=c.liveStreamabilityRenderer)==null?void 0:W.offlineSlate;if(A){this.V=m;c=A.liveStreamOfflineSlateRenderer;c.canShowCountdown?this.dB():zHc(this,c);var p,R,L,M;if(W=m==null?void 0:(p=m.liveStreamability)==null?void 0:(R=p.liveStreamabilityRenderer)==null?void 0:(L=R.offlineSlate)==null?void 0:(M=L.liveStreamOfflineSlateRenderer)==null?void 0:M.thumbnail){p=0;R=null;L=W.thumbnails;for(M=0;M<L.length;M++)L[M].width>
p&&(p=L[M].width||0,R=L[M].url);R&&(this.background.style.backgroundImage="url("+R+")")}else this.background.style.backgroundImage="";c.actionButtons||c.reminderButton?(this.j||(this.j=new xu(this.api),this.j.s8(this.Lf("ytp-offline-slate-buttons")),g.r(this,this.j)),VtQ(this.j,c.actionButtons&&c.actionButtons[0],c.reminderButton)):this.j&&VtQ(this.j,null,null);this.V=m}else this.V=null;this.tB()};
g.O.tB=function(m){if(this.api.getPresentingPlayerType()===8)var c=!0;else{var W=this.api.getPlayerStateObject(),A=this.getVideoData();c=A.isLivePlayback&&(W.isBuffering()||g.U(W,2)||g.U(W,64));var p=A.autonavState===2&&g.U(W,2);W=W.isPlaying()&&!g.H2(A)&&!this.api.isAtLiveHead(void 0,!0);c=c&&!W&&!p}c&&this.V?this.d4?(m==null?0:g.JK(m,2))&&!this.getVideoData().bd&&(g.QM(this.element,"ytp-offline-slate-collapsed"),this.L.stop(),g.QM(this.K,"ytp-offline-slate-bar-fade"),this.B.start()):(this.show(),
this.L.start(),this.api.publish("offlineslatestatechange"),this.X&&this.api.Qn()):this.d4&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.O.dB=function(){var m,c,W,A,p=(m=this.V)==null?void 0:(c=m.liveStreamability)==null?void 0:(W=c.liveStreamabilityRenderer)==null?void 0:(A=W.offlineSlate)==null?void 0:A.liveStreamOfflineSlateRenderer;p&&(m=Math.floor(g.ky()/1E3),c=p.canShowCountdown&&Number(p.scheduledStartTime),!c||c<=m?(zHc(this,p),this.countdownTimer.stop()):(zHc(this,p,g.ek(c-m)),g.Lx(this.countdownTimer)))};
g.O.xo=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.f.prototype.xo.call(this)};qt.prototype.V=function(m){return this.trigger&&m.trigger?this.module===m.module&&this.trigger===m.trigger&&this.j===m.j:!1};
qt.prototype.isExpired=function(){return(0,g.Kq)()-this.K>6E4};
qt.prototype.toString=function(){return this.module+":"+this.trigger+":"+this.j};g.J(Kkc,g.dg);g.O=Kkc.prototype;g.O.xo=function(){e3(this);this.player.IX("heartbeat");g.dg.prototype.xo.call(this)};
g.O.onCueRangeEnter=function(){this.X=!0;TU(this,2E3)};
g.O.HM=function(m){this.heartbeatParams=m;TU(this,2E3)};
g.O.Ns=function(m){var c;this.player.getPresentingPlayerType()!==8&&((c=this.j)==null?void 0:c.status)!=="UNPLAYABLE"&&(g.U(m.state,2)||g.U(m.state,64)?(e3(this),this.L&&(this.X=!0,TU(this,1E3))):(g.U(m.state,1)||g.U(m.state,8))&&TU(this,2E3))};
g.O.lR=function(){this.player.getPresentingPlayerType()!==3&&TU(this,2E3)};
g.O.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.O.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.O.yf=function(m){switch(m){case 4:case 3:return!1}return!0};
g.O.Dn=function(m,c,W){m={trigger:m,reason:c};W&&(m.serializedServerContext=W.additionalLoggingData);g.Q8("heartbeatActionPlayerTransitioned",m)};
g.O.gs=function(m){var c="LICENSE",W=uTc(m);if(W)return W.reason||g.kW[c]||"";if(m=m.match(nfv))if(m=Number(m[1]))c=(c=Ufr[m.toString()])?c:"LICENSE";return g.kW[c]||""};
g.O.C8=function(){return!!this.offlineSlate&&this.offlineSlate.d4};
var nfv=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.e$("heartbeat",Kkc);})(_yt_player);
